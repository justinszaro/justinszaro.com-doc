"use strict";(self.webpackChunkjustinszaro_com_docs=self.webpackChunkjustinszaro_com_docs||[]).push([[3080],{609:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"technologies/PHP/PHP File Handling","title":"PHP File Handling","description":"| scandir(\u2018path\u2019) | Will scan the files in the requesting directory. Will only do the first level.  |","source":"@site/docs/technologies/PHP/file-handling.md","sourceDirName":"technologies/PHP","slug":"/technologies/PHP/PHP File Handling","permalink":"/docs/technologies/PHP/PHP File Handling","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"php","permalink":"/docs/tags/php"}],"version":"current","frontMatter":{"id":"PHP File Handling","tags":["php"]},"sidebar":"technologies","previous":{"title":"CRUD Operations","permalink":"/docs/technologies/PHP/CRUD Operations"},"next":{"title":"Introducing Superglobals $_GET and $_POST","permalink":"/docs/technologies/PHP/PHP Superglobals"}}');var i=n(4848),s=n(8453);const r={id:"PHP File Handling",tags:["php"]},d=void 0,a={},c=[];function h(e){const t={li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"scandir(\u2018path\u2019)"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Will scan the files in the requesting directory. Will only do the first level."})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"is_dir(\u201cpath\u201d)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will return a boolean on whether or not a path is a directory."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fopen(\u2018file\u2019, \u2018mode\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"A function that opens a connection to a file and returns a file handler."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fclose($file_handler)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will chose the file handler and close the file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"feof($file_handler)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Returns of a boolean of whether or not you are at the end of the file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fgets($file_handler)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will get the line and move the pointer to the next line."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"strpos($line, $regex)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will check if a string contains the regex line (Like .contains() in java)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"str_replace(\u2018pattern\u2019, \u2018replaced_pattern\u2019, $string)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will replace a pattern in a string with a different pattern."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"file_put_contents(\u2018path_to_file\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will get the entire contents of the file and store it as a string."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"file(\u2018path_to_file\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will store the contents of a file as a string."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fwrite($file_handler, \u2018string\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"This function will write a string to a file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"strcasecmp($a, $b)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"A capitalized and binary safe way to compare strings."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"strip_tags($str)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will strip any HTML tags off a string."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"usort($array, \u2018function_name\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will sort an array based on the function fed into it."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"file_put_contents()"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will write an array to a file using the write mode or the append mode."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fgetcsv($fh)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will return a line of csv as an array"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"array_flip($array)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will flip an array such that the key is the value and the value is the key."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"extract($array)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will pull out the keys of an array into its own variable."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"fputcsv($fh, $array)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Puts a new line in csv format to the end of a file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"json_decode($str)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Turns a string of JSON into a PHP object."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"is_object()"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will check if a variable is an object."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"json_encode($books, JSON_PRETTY_PRINT"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"JSON_UNESCAPED_SLASHES);"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"opendir($dir)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will open the entire directory as a file holder."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"readdir($fh)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Will read the name of each file in the open directory."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"$xml->addChild(\u2018item\u2019, opt \u2018value\u2019)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Add items to an XML file."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"$xml->asXML($file)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Load the XML data into the file."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"Directory and File Structures:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Everything on a computer is stored on some sort of file."}),"\n",(0,i.jsxs)(t.li,{children:["Opening and processing a file is common for application:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Opening and interpreting a config file."}),"\n",(0,i.jsx)(t.li,{children:"Exporting data/order details."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"Permissions control who has access to files. If a file cannot be opened, be sure to view its permissions."}),"\n",(0,i.jsxs)(t.li,{children:["Recall:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:". is the current directory"}),"\n",(0,i.jsx)(t.li,{children:".. is the parent directory"}),"\n",(0,i.jsx)(t.li,{children:"Any file that starts with a dot is a hidden file."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"is_dir(\u2018path\u2019) will return a boolean on whether or not a path is a directory."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Including and Opening files:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["When working with HTML files, you can use the include tag to add HTML.","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Ex: <?php include 'data/html/countries.html'; ?>"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["fopen(\u2018path\u2019, \u2018mode\u2019) is a function that opens a connection to a file and returns a file handler.","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"It is good to include this function in an if statement in case the file load fails."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"fclose($file_handler) is a function that will close the file handler and the file."}),"\n",(0,i.jsx)(t.li,{children:"feof($fh) will return a boolean of whether or not you are at the end of a file."}),"\n",(0,i.jsx)(t.li,{children:"fgets($fh) will grad the line and move the pointer to the next line."}),"\n",(0,i.jsx)(t.li,{children:"str_replace() is a function that will replace a section of a string with another piece."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Reading Files Into a String or Array"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"file_put_contents(\u201cpath\u201d) will get the contents of the entire file and store it as a string."}),"\n",(0,i.jsx)(t.li,{children:"file(\u2018path\u2019) will store the contents of the file as an array."}),"\n",(0,i.jsxs)(t.li,{children:["Three Ways to Interact with a File:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Open a connection to the file and handle it line-by-line before closing it"}),"\n",(0,i.jsx)(t.li,{children:"Work with the entire file as a string"}),"\n",(0,i.jsx)(t.li,{children:"Work with the entire file as an object or array."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Writing Files Line by Line:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Writing files allows you to change files to update what is going one."}),"\n",(0,i.jsxs)(t.li,{children:["You can open the file for writing by using the \u2018w\u2019 mode:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"fopen(\u2018file_name\u2019, \u2018w\u2019);"}),"\n",(0,i.jsx)(t.li,{children:"This will erase the contents, so be careful!"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"fwrite($file_handler, \u2018string\u2019)"}),"\n",(0,i.jsx)(t.li,{children:"PHP_EOL.\u2019string\u2019 will add the proper end of line character when writing a file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Writing Files All at Once:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Adding FILE_IGNORE_NEW_LINES to the file() function will make it ignore all the newline characters \\n."}),"\n",(0,i.jsx)(t.li,{children:"strcasecmp() is a binary safe string comparison function."}),"\n",(0,i.jsx)(t.li,{children:"strip_tags() will strip the HTML tags off of a string."}),"\n",(0,i.jsx)(t.li,{children:"usort($array, \u2018function_name\u2019) is a function that will sort an array based on the function fed into it."}),"\n",(0,i.jsx)(t.li,{children:"file_put_contents(\u2018file_path\u2019, \u2018string\u2019) will write the contents of a string to a file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Personal Recommendations Project:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Most popular file types:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"CSV"}),"\n",(0,i.jsx)(t.li,{children:"JSON"}),"\n",(0,i.jsx)(t.li,{children:"XML"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Reading CSV:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"CSV stands for comma separated values"}),"\n",(0,i.jsx)(t.li,{children:"Normally contains a header, and then the values below it."}),"\n",(0,i.jsxs)(t.li,{children:["fgetcsv() will return an array of columns but only the line it is on.","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"The first line will be the headers!"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"Be sure to store the headers so you can use them when working with the rest of the file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Writing CSV:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Start by making an array of the values you want to add."}),"\n",(0,i.jsx)(t.li,{children:"Use the fputcsv($fh,  $array) function to add a csv line to a file."}),"\n",(0,i.jsx)(t.li,{children:"Be sure to ensure that there is a newline before adding to a CSV."}),"\n",(0,i.jsx)(t.li,{children:"fseek($fh, offset, whence) can change where the pointer is located when viewing a file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Reading JSON:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"JSON is an easy way to encode structured data. It is fairly easy for humans to read it."}),"\n",(0,i.jsx)(t.li,{children:"JSON - Javascript Object Notation."}),"\n",(0,i.jsx)(t.li,{children:"JSON can be converted into Objects or arrays."}),"\n",(0,i.jsx)(t.li,{children:"json_decode() turns a string into a PHP object."}),"\n",(0,i.jsx)(t.li,{children:"is_object() will check if a variable is an object."}),"\n",(0,i.jsx)(t.li,{children:"You can access the object by using ->."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Writing JSON:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"json_encode can be used to turn a PHP object back into JSON."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Reading XML:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"XML is a lot more detailed than JSON."}),"\n",(0,i.jsx)(t.li,{children:"Used for rss feeds for blogs or podcasts."}),"\n",(0,i.jsx)(t.li,{children:"When displaying XML, you need to include htmlspecialchars() so that the tags show up."}),"\n",(0,i.jsx)(t.li,{children:"To open a whole directory, you can use the opendir() command."}),"\n",(0,i.jsx)(t.li,{children:"readdir($fh) will read the file name of an open directory."}),"\n",(0,i.jsx)(t.li,{children:"simplexml_load_file($file) will load the XML file into a PHP object."}),"\n",(0,i.jsx)(t.li,{children:"This object can be accessed using the object syntax for PHP."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Writing XML:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["To add data to an xml file, you use the addChild() function","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["The function takes two arguments","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Key"}),"\n",(0,i.jsx)(t.li,{children:"Value"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"XML does allow namespacing"}),"\n"]})]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var l=n(6540);const i={},s=l.createContext(i);function r(e){const t=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(s.Provider,{value:t},e.children)}}}]);