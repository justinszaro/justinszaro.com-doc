"use strict";(self.webpackChunkjustinszaro_com_docs=self.webpackChunkjustinszaro_com_docs||[]).push([[9141],{1903:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"technologies/Javascript/Packages/Cucumber/Cucumber 10 Minute Tutorial","title":"10-Minute Tutorial","description":"Creating an Empty Cucumber Project","source":"@site/docs/technologies/Javascript/Packages/Cucumber/10-minute-tutorial.md","sourceDirName":"technologies/Javascript/Packages/Cucumber","slug":"/technologies/Javascript/Packages/Cucumber/Cucumber 10 Minute Tutorial","permalink":"/docs/technologies/Javascript/Packages/Cucumber/Cucumber 10 Minute Tutorial","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"javascript","permalink":"/docs/tags/javascript"},{"inline":true,"label":"testing","permalink":"/docs/tags/testing"},{"inline":true,"label":"behavior-driven-development","permalink":"/docs/tags/behavior-driven-development"},{"inline":true,"label":"tutorial","permalink":"/docs/tags/tutorial"}],"version":"current","sidebarPosition":10,"frontMatter":{"id":"Cucumber 10 Minute Tutorial","tags":["javascript","testing","behavior-driven-development","tutorial"]},"sidebar":"technologies","previous":{"title":"Javascript","permalink":"/docs/technologies/Javascript/"},"next":{"title":"Getting Started with Cucumber","permalink":"/docs/technologies/Javascript/Packages/Cucumber/Getting Started with Cucumber"}}');var t=s(4848),r=s(8453);const a={id:"Cucumber 10 Minute Tutorial",tags:["javascript","testing","behavior-driven-development","tutorial"]},d="10-Minute Tutorial",o={},c=[{value:"Creating an Empty Cucumber Project",id:"creating-an-empty-cucumber-project",level:2},{value:"Verify your Installation",id:"verify-your-installation",level:2},{value:"Write a Scenario",id:"write-a-scenario",level:2},{value:"See Scenario reported as pending",id:"see-scenario-reported-as-pending",level:2},{value:"See scenario reported as failing",id:"see-scenario-reported-as-failing",level:2},{value:"See scenario reported as passing",id:"see-scenario-reported-as-passing",level:2},{value:"Add another failing test",id:"add-another-failing-test",level:2},{value:"Make it Pass",id:"make-it-pass",level:2},{value:"Using variables and examples",id:"using-variables-and-examples",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"10-minute-tutorial",children:"10-Minute Tutorial"})}),"\n",(0,t.jsx)(n.h2,{id:"creating-an-empty-cucumber-project",children:"Creating an Empty Cucumber Project"}),"\n",(0,t.jsx)(n.p,{children:"Start by creating an empty Node.js project."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"mkdir hellocucumber\ncd hellocucumber\nnpm init --yes\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install Cucumber as a dev dependency:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm install --save-dev @cucumber/cucumber\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Add the test command to ",(0,t.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "name": "hellocucumber",\n    "version": "1.0.0",\n    "description": "",\n    "main": "index.js",\n    "scripts": {\n        "test": "cucumber-js"\n    },\n    "keywords": [],\n    "author": "",\n    "license": "ISC",\n    "devDependencies": {\n        "@cucumber/cucumber": "^11.1.1"\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Prepare the file structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"mkdir features\nmkdir features/step_definitions\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Create a file called ",(0,t.jsx)(n.code,{children:"cucumber.json"})," at the root of the project. Add the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "default": {\n        "formatOptions": {\n            "snippetInterface": "synchronous"\n        }\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Create a file called ",(0,t.jsx)(n.code,{children:"features/step_definitions/stepdefs.js"})," with the following content:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const assert = require('assert');\nconst { Given, When, Then } = require('@cucumber/cucumber');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"verify-your-installation",children:"Verify your Installation"}),"\n",(0,t.jsx)(n.p,{children:"To make sure everything is working properly, run the tests."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm test\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the following output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"0 scenarios\n0 steps\n0m00.000s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"write-a-scenario",children:"Write a Scenario"}),"\n",(0,t.jsx)(n.p,{children:"BDD is done in Cucumber with concrete examples that specify what we want the software to do. These scenarios are written before production code. The start of their life is called an executable specification. As production code is written, scenarios take the role as living documentation and automated tests."}),"\n",(0,t.jsxs)(n.p,{children:["Any example is called a scenario. Scenarios are defined in ",(0,t.jsx)(n.code,{children:".feature"})," files, which are stored in the ",(0,t.jsx)(n.code,{children:"features"})," directory (or sub-directory)"]}),"\n",(0,t.jsxs)(n.p,{children:["Here is an example that ",(0,t.jsx)(n.code,{children:"Sunday isn't Friday"})]}),"\n",(0,t.jsxs)(n.p,{children:["Create a file called ",(0,t.jsx)(n.code,{children:"features/is_it_friday_yet.feature"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Feature: Is it Friday yet?\n  Everybody wants to know when it's Friday\n\n  Scenario: Sunday isn't Friday\n    Given today is Sunday\n    When I ask whether it's Friday yet\n    Then I should be told \"Nope\"\n"})}),"\n",(0,t.jsx)(n.p,{children:"The lines..."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"First Line: The name of the Scenario (Should be similar to the file name)"}),"\n",(0,t.jsx)(n.li,{children:"Second Line: The description of the scenario."}),"\n",(0,t.jsx)(n.li,{children:"Fourth Line: The Scenario."}),"\n",(0,t.jsx)(n.li,{children:"Remaining Lines: These are the steps of the scenario, which will be executed by Cucumber."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Ask cucumber to execute the scenario:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm test\n"})}),"\n",(0,t.jsx)(n.p,{children:"Cucumber will let you know that there is one undefined scenario and three undefined steps. It will also suggest snippets to define these steps:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"UUU\n\nWarnings:\n\n1) Scenario: Sunday is not Friday # features/is_it_friday_yet.feature:4\n   ? Given today is Sunday\n       Undefined. Implement with the following snippet:\n\n         Given('today is Sunday', function () {\n           // Write code here that turns the phrase above into concrete actions\n           return 'pending';\n         });\n\n   ? When I ask whether it's Friday yet\n       Undefined. Implement with the following snippet:\n\n         When('I ask whether it\\'s Friday yet', function () {\n           // Write code here that turns the phrase above into concrete actions\n           return 'pending';\n         });\n\n   ? Then I should be told \"Nope\"\n       Undefined. Implement with the following snippet:\n\n         Then('I should be told {string}', function (string) {\n           // Write code here that turns the phrase above into concrete actions\n           return 'pending';\n         });\n\n\n1 scenario (1 undefined)\n3 steps (3 undefined)\n0m00.000s\n"})}),"\n",(0,t.jsx)(n.p,{children:"For now, copy each of thes three snupped and paste them into `features/step_definitions/stepdefs.js"}),"\n",(0,t.jsx)(n.h2,{id:"see-scenario-reported-as-pending",children:"See Scenario reported as pending"}),"\n",(0,t.jsx)(n.p,{children:"Running cucumber again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'P--\n\nWarnings:\n\n1) Scenario: Sunday is not Friday # features/is_it_friday_yet.feature:4\n   ? Given today is Sunday # features/step_definitions/stepdefs.js:3\n       Pending\n   - When I ask whether it\'s Friday yet # features/step_definitions/stepdefs.js:8\n   - Then I should be told "Nope" # features/step_definitions/stepdefs.js:13\n\n1 Scenario (1 pending)\n3 steps (1 pending, 2 skipped)\n0m00.001s\n'})}),"\n",(0,t.jsx)(n.p,{children:"Being marked as pending means they need to do something useful."}),"\n",(0,t.jsx)(n.h2,{id:"see-scenario-reported-as-failing",children:"See scenario reported as failing"}),"\n",(0,t.jsx)(n.p,{children:"Then, do what the comments in each step definition is telling us to do."}),"\n",(0,t.jsx)(n.p,{children:"Change the step definitions to this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const assert = require('assert');\nconst { Given, When, Then } = require('@cucumber/cucumber');\n\nfunction isItFriday(today) {\n  // We'll leave the implementation blank for now\n}\n\nGiven('today is Sunday', function () {\n  this.today = 'Sunday';\n});\n\nWhen('I ask whether it\\'s Friday yet', function () {\n  this.actualAnswer = isItFriday(this.today);\n});\n\nThen('I should be told {string}', function (expectedAnswer) {\n  assert.strictEqual(this.actualAnswer, expectedAnswer);\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then run cucumber again"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"..F\n\nFailures:\n\n1) Scenario: Sunday is not Friday # features/is_it_friday_yet.feature:4\n   \u2714 Given today is Sunday # features/step_definitions/stepdefs.js:8\n   \u2714 When I ask whether it's Friday yet # features/step_definitions/stepdefs.js:12\n   \u2716 Then I should be told \"Nope\" # features/step_definitions/stepdefs.js:16\n       AssertionError [ERR_ASSERTION]: undefined == 'Nope'\n           at World.<anonymous> (/private/tmp/tutorial/hellocucumber/features/step_definitions/stepdefs.js:17:10)\n\n1 Scenario (1 failed)\n3 steps (1 failed, 2 passed)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Two tests should be passing, but the last one will fail."}),"\n",(0,t.jsx)(n.h2,{id:"see-scenario-reported-as-passing",children:"See scenario reported as passing"}),"\n",(0,t.jsx)(n.p,{children:"Do the bare minimum t make the scenario pass"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function isItFriday(today) {\n    return 'Nope';\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Running cucumber again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"...\n\n1 scenario (1 passed)\n3 steps (3 passed)\n0m00.003s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"add-another-failing-test",children:"Add another failing test"}),"\n",(0,t.jsxs)(n.p,{children:["The next thing to do would be to get the correct return when it is Friday. Update the ",(0,t.jsx)(n.code,{children:"is_it_friday_yet.feature"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Feature: Is it Friday yet?\n  Everybody wants to know when it's Friday\n\n  Scenario: Sunday isn't Friday\n    Given today is Sunday\n    When I ask whether it's Friday yet\n    Then I should be told \"Nope\"\n\n  Scenario: Friday is Friday\n    Given today is Friday\n    When I ask whether it's Friday yet\n    Then I should be told \"TGIF\"\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Add a step definition to set ",(0,t.jsx)(n.code,{children:"today"})," to Friday"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'Given("today is Friday", function () {\n  this.today = "Friday";\n});\n'})}),"\n",(0,t.jsx)(n.p,{children:"Running the test will cause it to fail:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:".....F\n\nFailures:\n\n1) Scenario: Friday is Friday # features/is_it_friday_yet.feature:9\n   \u2714 Given today is Friday # features/step_definitions/stepdefs.js:8\n   \u2714 When I ask whether it's Friday yet # features/step_definitions/stepdefs.js:16\n   \u2716 Then I should be told \"TGIF\" # features/step_definitions/stepdefs.js:20\n       AssertionError [ERR_ASSERTION]: 'Nope' == 'TGIF'\n           + expected - actual\n\n           -Nope\n           +TGIF\n\n           at World.<anonymous> (/private/tmp/tutorial/hellocucumber/features/step_definitions/stepdefs.js:21:10)\n\n2 scenarios (1 failed, 1 passed)\n6 steps (1 failed, 5 passed)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"make-it-pass",children:"Make it Pass"}),"\n",(0,t.jsx)(n.p,{children:"Update the statement to actually evaluate if today is Friday."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'function isItFriday(today) {\n  if (today === "Friday") {\n    return "TGIF";\n  } else {\n    return "Nope";\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Running the test suite:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"......\n2 scenarios (2 passed)\n6 steps (6 passed)\n0m00.002s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-variables-and-examples",children:"Using variables and examples"}),"\n",(0,t.jsxs)(n.p,{children:["Update the scenario to use variables and evaluate numerous possibilities.\nUpdate the ",(0,t.jsx)(n.code,{children:"is_it_friday_yet.feature"})," file. Note the difference between ",(0,t.jsx)(n.code,{children:"Scenario"})," and ",(0,t.jsx)(n.code,{children:"Scenario Outline"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Feature: Is it Friday yet?\n  Everybody wants to know when it\'s Friday\n\n  Scenario Outline: Today is or is not Friday\n    Given today is "<day>"\n    When I ask whether it\'s Friday yet\n    Then I should be told "<answer>"\n\n  Examples:\n    | day            | answer |\n    | Friday         | TGIF   |\n    | Sunday         | Nope   |\n    | anything else! | Nope   |\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Replace the step definitions for ",(0,t.jsx)(n.code,{children:"today is Sunday"})," and ",(0,t.jsx)(n.code,{children:"today is Friday"})," with one step definition that takes the value of day as a string."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const assert = require('assert');\nconst { Given, When, Then } = require('@cucumber/cucumber');\n\nfunction isItFriday(today) {\n  if (today === \"Friday\") {\n    return \"TGIF\";\n  } else {\n    return \"Nope\";\n  }\n}\n\nGiven('today is {string}', function (givenDay) {\n  this.today = givenDay;\n});\n\nWhen('I ask whether it\\'s Friday yet', function () {\n  this.actualAnswer = isItFriday(this.today);\n});\n\nThen('I should be told {string}', function (expectedAnswer) {\n  assert.strictEqual(this.actualAnswer, expectedAnswer);\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"Running cucumber again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:".........\n\n3 scenarios (3 passed)\n9 steps (9 passed)\n0m00.001s\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);